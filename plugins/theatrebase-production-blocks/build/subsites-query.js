!function(){"use strict";var e=window.wp.element,t=window.wp.blocks,r=window.wp.primitives,s=(0,e.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(r.Path,{d:"M7 13.8h6v-1.5H7v1.5zM18 16V4c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2zM5.5 16V4c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5zM7 10.5h8V9H7v1.5zm0-3.3h8V5.8H7v1.4zM20.2 6v13c0 .7-.6 1.2-1.2 1.2H8v1.5h11c1.5 0 2.7-1.2 2.7-2.8V6h-1.5z"})),o=window.wp.data,i=window.wp.i18n,n=window.wp.compose,a=window.wp.hooks;const c="ft_production",u="tb_prod_subsite",p={name:"theatrebase/subsites-query",title:(0,i.__)("Production Subsites","theatrebase-production-blocks"),description:(0,i.__)('Shows the subsites of the current production. Used on a production subsite, this block lists all sibling "subsites" under the same parent production.',"theatrebase-production-blocks"),keywords:[(0,i.__)("zusatz","theatrebase-production-blocks"),(0,i.__)("produktion","theatrebase-production-blocks"),(0,i.__)("theater","theatrebase-production-blocks")],icon:s,example:{},attributes:{query:{perPage:16,pages:1,offset:0,postType:u,order:"asc",orderBy:"title",inherit:!1,parents:[]},displayLayout:{type:"flex",columns:4},align:"wide",className:"t7b4-subsites-query",customClassName:!1},innerBlocks:[["core/post-template",{},[["core/cover",{useFeaturedImage:!0,dimRatio:20,overlayColor:"primary",minHeight:200,minHeightUnit:"px",style:{spacing:{padding:{top:"0px"}}}},[["core/post-title",{textAlign:"center",level:3,isLink:!0,style:{typography:{lineHeight:"1"}},fontSize:"large"}]]]]]],scope:["inserter"],isActive:e=>"t7b4-subsites-query"===e.className};(0,t.registerBlockVariation)("core/query",p);const l=(0,n.createHigherOrderComponent)((t=>r=>{if("core/query"!==r.name)return(0,e.createElement)(t,r);if(u!==r.attributes.query.postType)return(0,e.createElement)(t,r);if(0!==r.attributes.query.parents.length)return(0,e.createElement)(t,r);const s=(0,o.select)("core/editor").getCurrentPost();if(c!==s.type&&u!==s.type)return(0,e.createElement)(t,r);const i=c===s.type?s.id:s.parent,n=r.attributes.query;return n.parents=[i],r.setAttributes({query:n}),(0,e.createElement)(t,r)}),"productionSubsitesQueryEngine");(0,a.addFilter)("editor.BlockListBlock","theatrebase/production-subsites-query-engine",l)}();