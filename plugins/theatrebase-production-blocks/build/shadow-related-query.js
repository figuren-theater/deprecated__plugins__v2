!function(){var t={730:function(t){var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function n(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var o,c,a=Object.prototype,i=a.hasOwnProperty,u=a.toString,s=a.propertyIsEnumerable,l=(o=Object.keys,c=Object,function(t){return o(c(t))}),d=Math.max,p=!s.call({valueOf:1},"valueOf");function f(t,e,r){var n=t[e];i.call(t,e)&&w(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function h(t,n){return!!(n=null==n?e:n)&&("number"==typeof t||r.test(t))&&t>-1&&t%1==0&&t<n}function y(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||a)}function w(t,e){return t===e||t!=t&&e!=e}var v=Array.isArray;function b(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}(t.length)&&!function(t){var e=g(t)?u.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var m,_=(m=function(t,e){if(p||y(e)||b(e))!function(t,e,r,n){r||(r={});for(var o=-1,c=e.length;++o<c;){var a=e[o];f(r,a,t[a])}}(e,function(t){return b(t)?function(t,e){var r=v(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&b(t)}(t)&&i.call(t,"callee")&&(!s.call(t,"callee")||"[object Arguments]"==u.call(t))}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var c in t)!e&&!i.call(t,c)||o&&("length"==c||h(c,n))||r.push(c);return r}(t):function(t){if(!y(t))return l(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}(e),t);else for(var r in e)i.call(e,r)&&f(t,r,e[r])},function(t,e){return e=d(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,c=d(r.length-e,0),a=Array(c);++o<c;)a[o]=r[e+o];o=-1;for(var i=Array(e+1);++o<e;)i[o]=r[o];return i[e]=a,n(t,this,i)}}((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,c=n>2?e[2]:void 0;for(o=m.length>3&&"function"==typeof o?(n--,o):void 0,c&&function(t,e,r){if(!g(r))return!1;var n=typeof e;return!!("number"==n?b(r)&&h(e,r.length):"string"==n&&e in r)&&w(r[e],t)}(e[0],e[1],c)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var a=e[r];a&&m(t,a)}return t})));t.exports=_}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var c=e[n]={exports:{}};return t[n](c,c.exports,r),c.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=window.wp.element,e=r(730),n=r.n(e),o=window.wp.blocks,c=window.wp.primitives,a=(0,t.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(c.Path,{d:"M19.75 9c0-1.257-.565-2.197-1.39-2.858-.797-.64-1.827-1.017-2.815-1.247-1.802-.42-3.703-.403-4.383-.396L11 4.5V6l.177-.001c.696-.006 2.416-.02 4.028.356.887.207 1.67.518 2.216.957.52.416.829.945.829 1.688 0 .592-.167.966-.407 1.23-.255.281-.656.508-1.236.674-1.19.34-2.82.346-4.607.346h-.077c-1.692 0-3.527 0-4.942.404-.732.209-1.424.545-1.935 1.108-.526.579-.796 1.33-.796 2.238 0 1.257.565 2.197 1.39 2.858.797.64 1.827 1.017 2.815 1.247 1.802.42 3.703.403 4.383.396L13 19.5h.714V22L18 18.5 13.714 15v3H13l-.177.001c-.696.006-2.416.02-4.028-.356-.887-.207-1.67-.518-2.216-.957-.52-.416-.829-.945-.829-1.688 0-.592.167-.966.407-1.23.255-.281.656-.508 1.237-.674 1.189-.34 2.819-.346 4.606-.346h.077c1.692 0 3.527 0 4.941-.404.732-.209 1.425-.545 1.936-1.108.526-.579.796-1.33.796-2.238z"})),i=window.wp.data,u=window.wp.i18n,s=window.wp.compose,l=window.wp.hooks;const d="ft_production",p="tb_prod_subsite",f={name:"theatrebase/production-shadow-related-query",title:(0,u.__)("Production Related","theatrebase-production-blocks"),description:(0,u.__)("Shows content related to the production, that is connected to this post. ","theatrebase-production-blocks"),keywords:[(0,u.__)("relates","theatrebase-production-blocks"),(0,u.__)("staging","theatrebase-production-blocks"),(0,u.__)("theater","theatrebase-production-blocks"),(0,u.__)("connected","theatrebase-production-blocks")],icon:a,attributes:{query:{perPage:3,pages:1,offset:0,postType:"post",exclude:[],sticky:"exclude",inherit:!1,taxQuery:{ft_production_shadow:[]}},displayLayout:{type:"flex",columns:3},className:"t7b4-production-shadow-related-query",customClassName:!1},innerBlocks:[["core/post-template",{},[["core/cover",{useFeaturedImage:!0,dimRatio:20,overlayColor:"foreground",minHeight:200,minHeightUnit:"px",style:{spacing:{padding:{top:"0px"}}}},[["core/post-title",{textAlign:"center",level:3,isLink:!0,style:{typography:{lineHeight:"1"}},fontSize:"large"}]]]]]],scope:["inserter","transform"],isActive:t=>"t7b4-production-shadow-related-query"===t.className,usesContext:["core/post-template/postId"]};(0,o.registerBlockVariation)("core/query",f);const h=(0,s.createHigherOrderComponent)((e=>r=>{if("t7b4-production-shadow-related-query"!==r.attributes.className)return(0,t.createElement)(e,r);if("core/query"!==r.name)return(0,t.createElement)(e,r);if(0!==r.attributes.query.taxQuery.ft_production_shadow.length)return(0,t.createElement)(e,r);const o=(0,i.select)("core/editor").getCurrentPost();if(d!==o.type&&p!==o.type&&!o.ft_production_shadow)return(0,t.createElement)(e,r);let c=[];return d===o.type?c=[o.meta.shadow_ft_production_shadow_term_id]:p===o.type?(()=>{let t=(0,i.select)("core").getEntityRecord("postType",d,o.parent);void 0!==t&&0!==t.meta.length&&(c=[t.meta.shadow_ft_production_shadow_term_id])})():c=(0,i.useSelect)((t=>{const{getEditedPostAttribute:e}=t("core/editor");return e("ft_production_shadow")}),[]),0===c.length||n()(r.attributes.query,{exclude:[o.id],taxQuery:{ft_production_shadow:c}}),(0,t.createElement)(e,r)}),"productionShadowRelatedQueryEngine");(0,l.addFilter)("editor.BlockListBlock","theatrebase/production-shadow-related-query",h)}()}();